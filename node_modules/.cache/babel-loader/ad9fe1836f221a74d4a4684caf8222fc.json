{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/diego/Dev/Pocketask/Website3/website-front-end/src/pages/Account.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { api } from '../api';\nimport TaskList from '../components/TaskList';\n\nconst Account = () => {\n  _s();\n\n  const [user, setUser] = useState();\n  const [tasks, setTasks] = useState();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const headers = {\n      'authorization': 'Bearer ' + localStorage.getItem('token'),\n      'content-type': 'application/json'\n    };\n    axios.get(api + '/user/' + localStorage.getItem('user'), {\n      headers\n    }).then(function (res) {\n      setUser(res.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(api + '/tasks/user/' + localStorage.getItem('user'), {\n      headers\n    }).then(function (res) {\n      setTasks(res.data);\n      setLoading(false);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n\n  const signout = () => {\n    axios.get(api + '/signout').then(function (res) {\n      console.log(res);\n      localStorage.clear();\n      window.location.href = '/login';\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  if (!localStorage.getItem('login')) {\n    window.location.href = '/login';\n    return 'Loading...';\n  }\n\n  if (loading) {\n    return \"\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container login-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row sec-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Hello, \", user.firstname + \" \" + user.lastname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: signout,\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"task-listing\",\n        children: tasks.map((task, index) => /*#__PURE__*/_jsxDEV(TaskList, {\n          count: index + 1,\n          label: task.taskType,\n          date: task.date,\n          taskId: task._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Account, \"HNjUjJi0+58126LnlAkFbqQJhGo=\");\n\n_c = Account;\nexport default Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"sources":["/Users/diego/Dev/Pocketask/Website3/website-front-end/src/pages/Account.js"],"names":["axios","React","useEffect","useState","api","TaskList","Account","user","setUser","tasks","setTasks","loading","setLoading","headers","localStorage","getItem","get","then","res","data","catch","error","console","log","signout","clear","window","location","href","firstname","lastname","map","task","index","taskType","date","_id"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { api } from '../api';\nimport TaskList from '../components/TaskList';\n\nconst Account = () => {\n    const [user, setUser] = useState();\n    const [tasks, setTasks] = useState();\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const headers = {\n            'authorization': 'Bearer ' + localStorage.getItem('token'),\n            'content-type': 'application/json'\n        }\n        axios.get(api + '/user/' + localStorage.getItem('user'), {headers})\n          .then(function (res) {\n            setUser(res.data);\n          })\n          .catch(function (error) {\n            console.log(error);\n        });\n        axios.get(api + '/tasks/user/' + localStorage.getItem('user'), {headers})\n          .then(function (res) {\n            setTasks(res.data);\n            setLoading(false);\n          })\n          .catch(function (error) {\n            console.log(error);\n        });\n    }, [])\n\n    const signout = () => {\n        axios.get(api + '/signout')\n          .then(function (res) {\n              console.log(res);\n              localStorage.clear();\n              window.location.href = '/login';\n          })\n          .catch(function (error) {\n            console.log(error);\n        });\n    }\n    \n    if(!localStorage.getItem('login')){\n        window.location.href = '/login';\n        return 'Loading...';\n    }\n\n    if(loading){\n        return \"\";\n    }\n\n    return (\n        <div className=\"container login-section\">\n            <div className=\"row sec-title\">\n                <h2>Hello, {user.firstname + \" \" + user.lastname}</h2>\n                <button onClick={signout}>Sign Out</button>\n            </div>\n            <div className=\"row\">\n                <ul className=\"task-listing\">\n                    {tasks.map((task, index) => (\n                    <TaskList count={index + 1} label={task.taskType} date={task.date} taskId={task._id} />\n                    ))}\n                </ul>\n            </div>\n        </div>\n    )\n}\n\nexport default Account\n"]},"metadata":{},"sourceType":"module"}